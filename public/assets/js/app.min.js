/* @project        express
 * @author         
 * @version         0.0.0
 * @build          2020-09-20 12:03
 * @copyright      Copyright (c) 2020, 
 */!function(){function t(e,n,r){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n||t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}return t}()({1:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=function(){function t(e){r(this,t),this.form=e}return i(t,[{key:"init",value:function(){var t=this.form.querySelectorAll("input");t.forEach(function(t){t.addEventListener("focus",function(e){t.placeholder="";var n=e.target.previousElementSibling;n.classList.add("move")}),t.addEventListener("focusout",function(t){var e=t.target.previousElementSibling;""==t.target.value&&e.classList.contains("move")&&e.classList.toggle("move")})})}}]),t}();n["default"]=s},{}],2:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=void 0;var s=function(){function t(e,n){r(this,t),this.target=document.querySelectorAll(e),this.fixed=this.selectCurrentFixed()}return i(t,[{key:"init",value:function(){var t=this;this.target.forEach(function(e){e.addEventListener("click",function(e){t.trigger(e)})})}},{key:"trigger",value:function(t){this.swap(t.target.closest(".col._col-3.Card"))}},{key:"selectCurrentFixed",value:function(){return document.querySelector(".Suported .Card._main")}},{key:"getPosition",value:function(t){var e=t.getBoundingClientRect().x,n=t.getBoundingClientRect().y;return{x:e,y:n}}},{key:"swap",value:function(t){var e=this.getPosition(t),n=this.selectCurrentFixed(),r=this.getPosition(n),o=this.calc(r,e),i=this.leftNTop(t,n);this.doSwapMove(t,n,o,i)}},{key:"calc",value:function(t,e){var n=t.x-e.x,r=t.y-e.y;return{x:n,y:r}}},{key:"leftNTop",value:function(t,e){var n=t.style.left,r=t.style.top,o=e.style.left,i=e.style.top;return n=Number(n.replace("px","")),r=Number(r.replace("px","")),o=Number(o.replace("px","")),i=Number(i.replace("px","")),{target:{left:n,top:r},fixed:{left:o,top:i}}}},{key:"doSwapMove",value:function(t,e,n,r){r.target.left=Math.round(n.x+r.target.left),r.target.top=Math.round(n.y+r.target.top),r.fixed.left=Math.round(-1*n.x+r.fixed.left),r.fixed.top=Math.round(-1*n.y+r.fixed.top),t.style.setProperty("top",r.target.top+"px"),t.style.setProperty("left",r.target.left+"px"),t.classList.toggle("_main"),e.style.setProperty("top",r.fixed.top+"px"),e.style.setProperty("left",r.fixed.left+"px"),e.classList.toggle("_main")}}]),t}();n["default"]=s},{}],3:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var a=r(t("../animations/label.js")),c=function(){function t(e,n){o(this,t);try{this.form=e,this.settings=n,this.errorHandler(n),this.init(),this.labels=new a["default"](this.form).init()}catch(r){console.log(r)}}return s(t,[{key:"errorHandler",value:function(t){this.fields=Object.keys(t.fields),this.fields.forEach(function(t){try{var e=document.querySelector('label[for="'.concat(t,'"]')),n=document.querySelector("input[id=".concat(t,"]")),r=document.querySelector("#".concat(t));if(null==e||null==n||null==r)throw Error("Label for, input name and id not same")}catch(o){console.log(o)}}),this.inputValidators=[];var e=Object.keys(t.fields);for(var n in e)this.inputValidators.push([e[n]]),this.inputValidators[n].push(Object.entries(t.fields[e[n]]));try{console.log(this.inputValidators);var r=Object.getOwnPropertyNames(this.__proto__);this.inputValidators.forEach(function(t){t[1].forEach(function(t){if(!r.includes(t[0]))throw Error("Method ".concat(t," not defined"))})})}catch(o){console.log(o)}}},{key:"init",value:function(){var t=this,e=this.getAllInputs();e.forEach(function(e,n){var r=t.selectValidators(n);e.addEventListener("focusout",function(e){t.watchInput(e,r)})})}},{key:"validForm",value:function(){var t=this,e=this.getAllInputs(),n=[];return e.forEach(function(e,r){var o=t.selectValidators(r);n.push(t.verifyAllInputs(e,o))}),n.every(function(t){return 1==t})}},{key:"getData",value:function(){if(this.validForm()){var t=this.getAllInputs(),e={};return t.forEach(function(t){e[t.name]=t.value}),e}throw Error("Form is not valid")}},{key:"selectValidators",value:function(t){return this.inputValidators[t][1]}},{key:"watchInput",value:function(t,e){for(var n=0;n<e.length&&0!=this.__proto__["".concat(e[n][0])](t.target,e[n][1]);n++)n==e.length-1&&this.showSuccess(t)}},{key:"verifyAllInputs",value:function(t,e){for(var n=0;n<e.length;n++){if(0==this.__proto__["".concat(e[n][0])](t,e[n][1]))return!1;if(n==e.length-1)return!0}}},{key:"getAllInputs",value:function(){var t=this,e=[];return this.fields.forEach(function(n){e.push(t.form.querySelector("input[name=".concat(n,"]")))}),e}},{key:"showError",value:function(t,e){var n=document.createElement("small"),r=t,o=t.previousElementSibling;try{if(void 0==e.message)throw new Error("Message is not defined for this Validator");if(r.classList.contains("success")&&(r.classList.toggle("success"),o.classList.toggle("success")),t.classList.add("error"),o.classList.add("error"),n.innerText=e.message,null===t.nextElementSibling)return void t.after(n);t.nextElementSibling.innerText=e.message}catch(t){console.log(t)}}},{key:"showSuccess",value:function(t){var e=t.target,n=t.target.previousElementSibling;e.classList.contains("error")&&(e.classList.toggle("error"),n.classList.toggle("error")),null!=e.nextElementSibling&&(e.nextElementSibling.innerText=""),e.classList.add("success"),n.classList.add("success")}},{key:"notEmpty",value:function(t,e){var n=t.value;return 0!=n.length||(this.showError(t,e),!1)}},{key:"stringLength",value:function(t,e){var n=t.value;return!(n.length<e.min||n.length>e.max)||(this.showError(t,e),!1)}},{key:"inputBetween",value:function(t,e){var n=t.value;return!(n<e.min||n>e.max)||(this.showError(t,e),!1)}},{key:"regexp",value:function(t,e){var n=t.value;return!!new RegExp(e.regexp,"g").test(n)||(this.showError(t,e),!1)}}]),t}();e.exports=c},{"../animations/label.js":1}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getArtistToptracks=n.getArtistAlbums=n.getArtistRelated=n.getArtist=void 0;var r=function(t){return fetch("http://localhost:3000/api/artist/".concat(t)).then(function(t){try{return t.json()}catch(e){return e}}).then(function(t){console.log(t)})["catch"](function(t){console.log(t)})};n.getArtist=r;var o=function(t){return fetch("http://localhost:3000/api/artist/".concat(t,"/artist-related")).then(function(t){try{return t.json()}catch(e){return e}}).then(function(t){console.log(t)})["catch"](function(t){reject()})};n.getArtistRelated=o;var i=function(t){return fetch("http://localhost:3000/api/artist/".concat(t,"/artistalbum")).then(function(t){try{return t.json()}catch(e){return e}}).then(function(t){console.log(t)})["catch"](function(t){})};n.getArtistAlbums=i;var s=function(t){return fetch("http://localhost:3000/api/artist/".concat(t,"/toptracks")).then(function(t){try{return t.json()}catch(e){console.log(e)}}).then(function(t){console.log(t)})["catch"](function(t){console.log(t)})};n.getArtistToptracks=s,n["default"]=r,n.getArtistRelated=o,n.getArtistAlbums=i,n.getArtistToptracks=s},{}],5:[function(t,e,n){"use strict";function r(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){function s(t){r(c,o,i,s,a,"next",t)}function a(t){r(c,o,i,s,a,"throw",t)}var c=t.apply(e,n);s(void 0)})}}function i(t,e){return s.apply(this,arguments)}function s(){return s=o(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a(),t.next=3,fetch("http://localhost:3000/api/album/".concat(e)).then(function(t){try{return t.json()}catch(e){return a(),e}}).then(function(t){var e=document.querySelector("#album-img"),n=document.querySelector("#artist"),r=document.querySelector("#album-type"),o=document.querySelector("#album-name"),i=document.querySelector("#album-release"),s=document.querySelector("#result-request");return a(),e.src=t.images[1].url,n.textContent=t.artists[0].name,r.textContent=t.album_type,o.textContent=t.name,i.textContent=t.release_date,s.classList.contains("hide")&&s.classList.toggle("hide"),t.tracks.items}).then(function(t){var e=document.querySelector("#musicas"),n=document.querySelector("#songs");n.addEventListener("click",f),u(e),l(t)})["catch"](function(t){console.log(t);var n="Not was possible to find an album with ".concat(e);document.querySelector("small").innerText=n});case 3:case"end":return t.stop()}},t)})),s.apply(this,arguments)}function a(){var t=document.querySelector(".Loading");t.classList.toggle("hide")}function c(t){t=1e3*Math.round(t/1e3);var e,n=new Date(t);return e=n.getUTCSeconds()<10?n.getUTCMinutes()+":0"+n.getUTCSeconds():n.getUTCMinutes()+":"+n.getUTCSeconds()}function u(t){if(t.childNodes.length>3)for(;t.childNodes.length>3;)t.removeChild(t.lastChild)}function l(t){var e=document.querySelector("#musicas"),n=0;t.forEach(function(t){var r=e.firstElementChild.cloneNode(!0);r.querySelector(".pos").textContent=++n,r.querySelector("#title").textContent=t.name,r.querySelector(".time").textContent=c(t.duration_ms),e.appendChild(r)})}function f(t){var e=document.querySelector("#musicas"),n=t.target;console.log(t),e.classList.contains("hide")?n.style.transform="rotate(90deg)":n.style.transform="rotate(270deg)",e.classList.toggle("hide")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=i,n.load_smoothly=a,n.timing=c,n.checkList=u,n.fillList=l,n.showHideSongs=f,n.showSucces=n.showError=void 0;var d=function(t){var e=document.querySelector(".input"),n=document.querySelector("small");e.style.borderColor="red",n.style.color="red",n.innerText=""+t};n.showError=d;var h=function(){var t=document.querySelector(".input"),e=document.querySelector("small"),n="Success xD";t.style.borderColor="green",e.style.color="green",e.innerText=n};n.showSucces=h},{}],6:[function(t,e,n){"use strict";function r(t){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}function i(t){if(t&&t.__esModule)return t;if(null===t||"object"!==r(t)&&"function"!=typeof t)return{"default":t};var e=o();if(e&&e.has(t))return e.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){var a=i?Object.getOwnPropertyDescriptor(t,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=t[s]}return n["default"]=t,e&&e.set(t,n),n}function s(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(u){return void n(u)}a.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(r,o){function i(t){s(c,r,o,i,a,"next",t)}function a(t){s(c,r,o,i,a,"throw",t)}var c=t.apply(e,n);i(void 0)})}}function c(t,e){return u.apply(this,arguments)}function u(){return u=a(regeneratorRuntime.mark(function t(e,n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){try{var r=(0,m["default"])(e),o=(0,m.getArtistRelated)(e),i=(0,m.getArtistAlbums)(e),s=(0,m.getArtistToptracks)(e);Promise.all([r,o,i,s]).then(function(){return t()})}catch(a){n(a)}}));case 1:case"end":return t.stop()}},t)})),u.apply(this,arguments)}function l(){var t=document.querySelector(".Loading");t.classList.toggle("hide")}function f(t){t=1e3*Math.round(t/1e3);var e,n=new Date(t);return e=n.getUTCSeconds()<10?n.getUTCMinutes()+":0"+n.getUTCSeconds():n.getUTCMinutes()+":"+n.getUTCSeconds()}function d(t){if(t.childNodes.length>3)for(;t.childNodes.length>3;)t.removeChild(t.lastChild)}function h(t){var e=document.querySelector("#musicas"),n=0;t.forEach(function(t){var r=e.firstElementChild.cloneNode(!0);r.querySelector(".pos").textContent=++n,r.querySelector("#title").textContent=t.name,r.querySelector(".time").textContent=f(t.duration_ms),e.appendChild(r)})}function g(t){var e=document.querySelector("#musicas"),n=t.target;console.log(t),e.classList.contains("hide")?n.style.transform="rotate(90deg)":n.style.transform="rotate(270deg)",e.classList.toggle("hide")}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=c,n.load_smoothly=l,n.timing=f,n.checkList=d,n.fillList=h,n.showHideSongs=g,n.showSucces=n.showError=void 0;var m=i(t("./artists")),p=function(t){var e=document.querySelector(".input"),n=document.querySelector("small");e.style.borderColor="red",n.style.color="red",n.innerText=""+t};n.showError=p;var y=function(){var t=document.querySelector(".input"),e=document.querySelector("small"),n="Success xD";t.style.borderColor="green",e.style.color="green",e.innerText=n};n.showSucces=y},{"./artists":4}],7:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=r(t("./animations/swap.js")),i=r(t("./functions/Submit.js")),s=r(t("./functions/searchAlbum.js")),a=r(t("./functions/searchArtist.js"));try{var c=new o["default"](".Suported .Card");c.init()}catch(u){console.log(u)}try{var l=document.querySelector("#album"),f=new i["default"](l,{fields:{album:{notEmpty:{message:"The album ID is required"},stringLength:{min:15,max:30,message:"The username must be more than 15 and less than 30 characters long"},regexp:{regexp:/^[a-zA-Z0-9]+$/,message:"The album ID can only consist of alphabetical and number"}}}}),d={};l.addEventListener("submit",function(t){t.preventDefault(),d=f.getData(),(0,s["default"])(d.album,"")})}catch(u){console.log(u)}try{var h=document.querySelector("#artist"),g=new i["default"](h,{fields:{artist:{notEmpty:{message:"The album ID is required"},stringLength:{min:15,max:30,message:"The username must be more than 15 and less than 30 characters long"},regexp:{regexp:/^[a-zA-Z0-9]+$/,message:"The album ID can only consist of alphabetical and number"}}}}),m={};h.addEventListener("submit",function(t){t.preventDefault(),m=g.getData(),(0,a["default"])(m.artist,"")})}catch(u){console.log(u)}},{"./animations/swap.js":2,"./functions/Submit.js":3,"./functions/searchAlbum.js":5,"./functions/searchArtist.js":6}]},{},[7]);
//# sourceMappingURL=app.min.js.map
