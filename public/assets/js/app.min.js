/* @project        express
 * @author         
 * @version         0.0.0
 * @build          2020-09-06 12:39
 * @copyright      Copyright (c) 2020, 
 */"use strict";function asyncGeneratorStep(e,t,n,r,o,a,s){try{var c=e[a](s),u=c.value}catch(i){return void n(i)}c.done?t(u):Promise.resolve(u).then(r,o)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){asyncGeneratorStep(c,r,o,a,s,"next",e)}function s(e){asyncGeneratorStep(c,r,o,a,s,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function trigger(e){swap(e.target.closest(".col._col-3.Card"))}function selectCurrentFixed(){return document.querySelector(".Suported .Card._main")}function getPosition(e){var t=e.getBoundingClientRect().x,n=e.getBoundingClientRect().y;return{x:t,y:n}}function swap(e){var t=getPosition(e),n=selectCurrentFixed(),r=getPosition(n),o=calc(r,t),a=leftNTop(e,n);doSwapMove(e,n,o,a)}function calc(e,t){var n=e.x-t.x,r=e.y-t.y;return{x:n,y:r}}function leftNTop(e,t){var n=e.style.left,r=e.style.top,o=t.style.left,a=t.style.top;return n=Number(n.replace("px","")),r=Number(r.replace("px","")),o=Number(o.replace("px","")),a=Number(a.replace("px","")),{target:{left:n,top:r},fixed:{left:o,top:a}}}function doSwapMove(e,t,n,r){r.target.left=Math.round(n.x+r.target.left),r.target.top=Math.round(n.y+r.target.top),r.fixed.left=Math.round(-1*n.x+r.fixed.left),r.fixed.top=Math.round(-1*n.y+r.fixed.top),e.style.setProperty("top",r.target.top+"px"),e.style.setProperty("left",r.target.left+"px"),e.classList.toggle("_main"),t.style.setProperty("top",r.fixed.top+"px"),t.style.setProperty("left",r.fixed.left+"px"),t.classList.toggle("_main")}function btn_Songs(){var e=document.querySelector("#songs");e.addEventListener("click",function(){var e=event.target;e.style.transform="rotate(90deg)",musicsList.toggle("hide"),e.style.transform="rotate(270deg)"})}function user_config(){var e="1e2ebb58c1e349d1a776117b1ff97fe9",t="91cb13d6e51f4db2aa1398dc3531bc99",n={client_id:e,client_secret:t};return n}function load_smoothly(e){e.classList.contains("hide")?e.classList.remove("hide"):e.classList.add("hide")}function all_request(e){var t=tokenRequest();t.then(function(t){var n={method:"get",url:"https://api.spotify.com/v1/albums/"+e,headers:{Authorization:"Bearer "+t.data.access_token}};axios.request(n).then(function(e){var t=document.querySelector("#album-img"),n=document.querySelector("#artist"),r=document.querySelector("#album-type"),o=document.querySelector("#album-name"),a=document.querySelector("#album-release"),s=e.data;t.src=s.images[1].url,n.textContent=s.artists[0].name,r.textContent=s.album_type,o.textContent=s.name,a.textContent=s.release_date;var c=document.querySelector(".Loading");load_smoothly(c);var c=document.querySelector(".result");return c.classList.contains("hide")&&load_smoothly(c),s.tracks.items}).then(function(t){var n=document.querySelector("#musicas");console.log(t);document.querySelector("#result-request");if(1==n.classList.contains("hide"));else if((e=!0)&&n.getElementsByTagName("li").length>3)for(;n.childNodes.length>3;)n.removeChild(n.lastChild);cont=0,t.forEach(function(e){var t=n.firstElementChild.cloneNode(!0);t.querySelector(".pos").textContent=++cont,t.querySelector("#title").textContent=e.name,t.querySelector(".time").textContent=timing(e.duration_ms),n.appendChild(t)})})["catch"](function(e){var t=document.querySelector(".Loading");load_smoothly(t),setTimeout(function(){var e=document.querySelector("#album").value,t="NÃ£o foi possivel buscar o album pelo id : ",n=document.createTextNode(t),r=document.createElement("span"),o=document.querySelector("#msg");o.textContent||o.innerHTML?(o.textContent=t,r.append(e),o.append(r)):(o.appendChild(n),r.append(e),o.append(r))},500),console.log(e)})})}function timing(e){e=1e3*Math.round(e/1e3);var t=new Date(e),n=t.getUTCMinutes()+":"+t.getUTCSeconds();return n}function tokenRequest(){return _tokenRequest.apply(this,arguments)}function _tokenRequest(){return _tokenRequest=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=credrentils(),n={method:"post",url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+new Buffer(t.client_id+":"+t.client_secret).toString("base64")},data:querystring.stringify({grant_type:"client_credentials"})},e.prev=2,e.next=5,axios.request(n);case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),console.log(e.t0);case 11:return e.abrupt("return",r);case 12:case"end":return e.stop()}},e,null,[[2,8]])})),_tokenRequest.apply(this,arguments)}var cards=document.querySelectorAll(".Suported .Card");cards.forEach(function(e){e.addEventListener("click",trigger)});var musicsList=document.querySelector("#musicas");exports.btn_Songs=btn_Songs,module.exports=user_config;var querystring=require("querystring"),credrentils=require("./credentials.js"),axios=require("axios")["default"],form=document.querySelector("#submit"),OLD_ALBUM_ID="",submitAlbum=function(){form.addEventListener("submit",function(e){var t=form.querySelector("#album").value;console.log(t),0==t.length&&OLD_ALBUM_ID!=t&&(e.preventDefault(),console.log(t)),OLD_ALBUM_ID==t&&(e.preventDefault(),console.log("Mesmo ID"))})};module.exports=submitAlbum;
//# sourceMappingURL=app.min.js.map
