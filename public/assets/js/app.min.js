/* @project        express
 * @author         
 * @version         0.0.0
 * @build          2020-09-10 18:05
 * @copyright      Copyright (c) 2020, 
 */"use strict";function asyncGeneratorStep(e,t,r,o,n,a,l){try{var c=e[a](l),s=c.value}catch(u){return void r(u)}c.done?t(s):Promise.resolve(s).then(o,n)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){function a(e){asyncGeneratorStep(c,o,n,a,l,"next",e)}function l(e){asyncGeneratorStep(c,o,n,a,l,"throw",e)}var c=e.apply(t,r);a(void 0)})}}function load_smoothly(){var e=document.querySelector(".Loading");e.classList.toggle("hide")}function all_request(e,t){return _all_request.apply(this,arguments)}function _all_request(){return _all_request=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return load_smoothly(),e.next=3,fetch("http://localhost:3000/api/album/".concat(t)).then(function(e){try{return e.json()}catch(t){return t}}).then(function(e){var t=document.querySelector("#album-img"),r=document.querySelector("#artist"),o=document.querySelector("#album-type"),n=document.querySelector("#album-name"),a=document.querySelector("#album-release"),l=document.querySelector("#result-request");return load_smoothly(),showSucces(),t.src=e.images[1].url,r.textContent=e.artists[0].name,o.textContent=e.album_type,n.textContent=e.name,a.textContent=e.release_date,l.classList.toggle("hide"),l.classList.contains("hide")&&l.classList.toggle("hide"),e.tracks.items}).then(function(e){var r=document.querySelector("#musicas"),o=document.querySelector("#songs");document.querySelector("#result-request");if(o.addEventListener("click",function(e){var t=e.target;r.classList.contains("hide")&&(t.style.transform="rotate(90deg)"),r.classList.contains("hide")||(t.style.transform="rotate(270deg)"),r.classList.toggle("hide")}),!r.classList.contains("hide")&&(t=!0)&&r.getElementsByTagName("li").length>3)for(;r.childNodes.length>3;)r.removeChild(r.lastChild);var n=0;e.forEach(function(e){var t=r.firstElementChild.cloneNode(!0);t.querySelector(".pos").textContent=++n,t.querySelector("#title").textContent=e.name,t.querySelector(".time").textContent=timing(e.duration_ms),r.appendChild(t)})})["catch"](function(e){console.log(e);var r="Not was possible to find an album with ".concat(t);showError(r)});case 3:case"end":return e.stop()}},e)})),_all_request.apply(this,arguments)}function timing(e){e=1e3*Math.round(e/1e3);var t=new Date(e),r=t.getUTCMinutes()+":"+t.getUTCSeconds();return r}function trigger(e){swap(e.target.closest(".col._col-3.Card"))}function selectCurrentFixed(){return document.querySelector(".Suported .Card._main")}function getPosition(e){var t=e.getBoundingClientRect().x,r=e.getBoundingClientRect().y;return{x:t,y:r}}function swap(e){var t=getPosition(e),r=selectCurrentFixed(),o=getPosition(r),n=calc(o,t),a=leftNTop(e,r);doSwapMove(e,r,n,a)}function calc(e,t){var r=e.x-t.x,o=e.y-t.y;return{x:r,y:o}}function leftNTop(e,t){var r=e.style.left,o=e.style.top,n=t.style.left,a=t.style.top;return r=Number(r.replace("px","")),o=Number(o.replace("px","")),n=Number(n.replace("px","")),a=Number(a.replace("px","")),{target:{left:r,top:o},fixed:{left:n,top:a}}}function doSwapMove(e,t,r,o){o.target.left=Math.round(r.x+o.target.left),o.target.top=Math.round(r.y+o.target.top),o.fixed.left=Math.round(-1*r.x+o.fixed.left),o.fixed.top=Math.round(-1*r.y+o.fixed.top),e.style.setProperty("top",o.target.top+"px"),e.style.setProperty("left",o.target.left+"px"),e.classList.toggle("_main"),t.style.setProperty("top",o.fixed.top+"px"),t.style.setProperty("left",o.fixed.left+"px"),t.classList.toggle("_main")}var showError=function(e){var t=document.querySelector("#album"),r=document.querySelector("#msg");t.style.borderColor="red",r.style.color="red",r.innerText=""+e},showSucces=function(){var e=document.querySelector("#album"),t=document.querySelector("#msg"),r="Success xD";e.style.borderColor="green",t.style.color="green",t.innerText=r};try{var form=document.querySelector(".Form"),OLD_ALBUM_ID="";form.addEventListener("submit",function(e){e.preventDefault();var t=form.querySelector("#album").value;console.log(t),verifyData(t,OLD_ALBUM_ID)&&all_request(t,OLD_ALBUM_ID),OLD_ALBUM_ID=t})}catch(e){console.log(e)}var verifyData=function(e,t){return 0!=e.length&&e!=t},cards=document.querySelectorAll(".Suported .Card");cards.forEach(function(e){e.addEventListener("click",trigger)});
//# sourceMappingURL=app.min.js.map
